<form name="generator" novalidate ng-submit="$ctrl.generate(generator.$valid)">
  <div class="form-group" ng-class="{'has-error': (generator.$submitted || generator.name.$touched) && generator.name.$invalid}">
    <label for="name" class="control-label">Enter your name</label>
    <input id="name" name="name" type="text" class="form-control" required placeholder="Bill Gates, Steve Jobs,..." ng-model="$ctrl.name">
    <div class="text-danger" ng-messages="generator.name.$error" ng-show="generator.$submitted || generator.name.$touched">
      <div ng-message="required">Please enter a value for this field.</div>
    </div>
  </div>

  <div class="form-group" ng-class="{'has-error': (generator.$submitted || generator.shape.$touched) && generator.shape.$invalid}">
    <label for="shape" class="control-label">Select a shape</label>
    <select id="shape" name="shape" class="form-control" ng-options="shape.value as shape.name for shape in $ctrl.shapes" ng-model="$ctrl.shape"></select>
    <div class="text-danger" ng-messages="generator.name.$error" ng-show="generator.$submitted || generator.name.$touched">
      <div ng-message="required">Please enter a value for this field.</div>
    </div>
  </div>

  <div>
    <button type="submit" class="btn btn-primary">Generate</button>
    <button type="reset" class="btn btn-default" ng-click="$ctrl.reset(generator)">Clear</button>
  </div>
</form>

<div ng-show="$ctrl.generated">
  <canvas id="avatar" width="256" height="256" class="thumbnail"></canvas>
  <button type="button" class="btn btn-primary" ng-click="$ctrl.download()">Download</button>
</div>
